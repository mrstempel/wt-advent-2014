function validateEmail(n){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)}function initMandatoryFields(){$(".mandatory").keyup(function(){checkMandatoryField($(this))});$(".mandatory").change(function(){checkMandatoryField($(this))})}function checkMandatoryField(n){$(n).val().length>0?($(n).css("background-image","none"),$(n).removeClass("error")):showErrorMarkers&&$(n).addClass("error")}function initForms(){debug("init form");$("textarea[maxlength]").bind("input propertychange",function(){var n=$(this).attr("maxlength");$(this).val().length>n&&$(this).val($(this).val().substring(0,n))});initMandatoryFields()}function showErrorMsg(n,t,i){n.length>0&&$("#msg-error h2").html(n);t.length>0&&$("#msg-error p").html(t);$("#msg-error").show();$("#msg-container").fadeIn("medium");scrollToDiv("msg-container");i&&window.setTimeout("$('#msg-container').fadeOut('slow');",2e3)}function showSuccessMsg(n,t,i){n.length>0&&$("#msg-success h2").html(n);t.length>0&&$("#msg-success p").html(t);$("#msg-success").show();$("#msg-container").fadeIn("fast");scrollToDiv("msg-container");i&&window.setTimeout("$('#msg-container').fadeOut('slow');",2e3)}function validateMandatoryFields(){showErrorMarkers=!0;var n=!0;return $(".mandatory").each(function(){$(this).val().length>0?$(this).removeClass("error"):($(this).addClass("error"),n=!1)}),n}function validateRegister(){var n=!0,t="";return validateMandatoryFields()?(validateEmail($("#Email").val())||($("#Email").addClass("error"),t+="Bitte gib eine g√ºltige E-Mail Adresse an.",n=!1),$("#teilnahmebedingungen-check").prop("checked")?$("#teilnahmebedingungen-container").removeClass("error"):($("#teilnahmebedingungen-container").addClass("error"),n=!1),n||t==""?_gaq.push(["_trackEvent","anmelden","clicked"]):showErrorMsg("",t,!1),n):!1}function login(){if($("#login-email").val().length==0){$("#login-email").addClass("error");return}$.ajax({url:"/"+lng+"/Auth/Login",type:"get",async:!0,data:{email:$("#login-email").val()},success:function(n){n?parent.window.location.reload(!1):$("#login-email").addClass("error")},error:function(){$("#login-email").addClass("error")}})}function logout(){$.ajax({url:"/"+lng+"/Auth/Logout",type:"get",async:!0,success:function(){location.href="/"+lng},error:function(){}})}function userUpdate(){if(validateMandatoryFields()){var n=$("#sex-m").is(":checked")?"M":"F";$.ajax({url:"/"+lng+"/Auth/Update",type:"get",async:!0,data:{snowieVersion:$("#SnowieVersion").val(),sex:n,firstname:$("#Firstname").val(),surname:$("#Surname").val(),email:$("#Email").val()},success:function(n){n==1?($("#msg-error").hide(),$("#msg-success").show(),$("#msg-container-success").fadeIn("medium"),scrollToDivMobile("msg-container-success"),$("#popover-my-snowie").removeClass("my-snowie1 my-snowie2 my-snowie3 my-snowie4"),$("#popover-my-snowie").addClass("my-snowie"+$("#SnowieVersion").val()),mySnowieVersion=$("#SnowieVersion").val()):n==0?($("#msg-success").hide(),showErrorMsg("","E-mail schon vergeben",!1)):($("#msg-success").hide(),showErrorMsg("","",!1))},error:function(){$("#login-email").addClass("error")}})}}var showErrorMarkers=!1;
/*
//# sourceMappingURL=advent-forms.min.js.map
*/