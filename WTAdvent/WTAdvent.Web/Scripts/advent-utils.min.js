function replaceAll(n,t,i){return i.replace(new RegExp(n,"g"),t)}function getMaskSize(){var n={};return n.width=$(window).innerWidth(),n.height=$(window).innerHeight(),n}function scrollToDiv(n){$("html, body").animate({scrollTop:$("#"+n).offset().top-100},1e3)}function scrollToDivMobile(n){$("html, body").animate({scrollTop:$("#"+n).offset().top-10},1e3)}function scrollToTop(){$("html, body").animate({scrollTop:0},1e3)}function debug(n){showDebugMessages&&console.log(n)}function closeOverlay(n){$("#"+n).slideUp(800,"easeInOutQuart")}function showLoadingMsg(){$("#loading-message").show()}function hideLoadingMsg(){$("#loading-message").hide()}function showPopupBonus(n){$("#reminder").hide();$("#question").hide();$("#map-feedback-container").hide();$("#popup-bonus").show();showBonus("popup-points",n,!1);window.setTimeout(function(){hideBonus("popup-points",!0)},1300)}function showBonus(n,t,i){var u,r,f,e;debug("showBonus ("+n+", "+t+", "+i+")");u=$("#"+n);r=$("#"+n+" > h1");$(u).css("display","inline-block");$(r).html("+"+t);f=getMaskSize();e=parseInt(f.width/4);$(r).css("line-height","270px");$(r).show(0,function(){$(r).animate({fontSize:e},300,"linear",function(){$(r).animate({fontSize:"270px"},180,"linear")})});i&&addSidebarBonus(t)}function addSidebarBonus(n){debug("addSidebarBonus("+n+")");$("#popover-points").length&&($("#popover-points").html(parseInt($("#popover-points").html())+n),$("#popover-points").addClass("new"),window.setTimeout(function(){$("#popover-points").removeClass("new")},2500))}function hideBonus(n,t){debug("hideBonus ("+n+", "+t+")");var r=$("#"+n),i=$("#"+n+" > h1"),u=getMaskSize(),f=parseInt(u.width/4);$(i).animate({fontSize:f},300,"linear",function(){$(i).animate({fontSize:"1px"},180,"linear",function(){$(r).hide();$("#popup-bonus").fadeOut();t?($("#question").fadeOut(),showReminder()):window.setTimeout("$('#question').fadeOut();",600)})})}function initBBQ(){$(window).bind("hashchange",function(){var n=$.bbq.getState("u"),t=$.bbq.getState("t");if(debug("currentHashUrl = "+n),debug("currentHashTarget = "+t),n&&(bbqUrl=="undefined"||n!=bbqUrl)){if(n=="Register"&&hasEmail){$.bbq.removeState();return}bbqUrl=n;t&&t=="f"?loadInOverlayIframe(n):loadInOverlay(n)}});$(window).trigger("hashchange")}function shareFacebook(n){return window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(n),"facebook-share-dialog","width=626,height=436"),!1}function shareGoogle(n){return window.open("https://plus.google.com/share?url="+encodeURIComponent(n),"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600"),!1}function shareTwitter(n){return window.open("https://twitter.com/share?url="+encodeURIComponent(n)+"&text=%23XmasinVienna","","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600"),!1}function resizeIframe(n,t){$("#"+t).css("height",n)}function showModal(n,t){showLoadingMsg();var i=$("#modal-"+n);$(i).load("/de/Popup/"+t,function(){$(".modal").modal("hide");hideLoadingMsg();$(i).modal("show")})}function showMoreInfo(n,t,i){if(!moreInfoSem){moreInfoSem=!0;t>0&&(t=3);showLoadingMsg();var r=$("#modal-more-info");$(r).load("/"+lng+"/Advent/MoreInfo?day="+n+"&points="+t,function(){$(".modal").modal("hide");window.setTimeout(function(){hideLoadingMsg();$(r).modal("show")},300);window.setTimeout(function(){moreInfoSem=!1},500);t>0&&addSidebarBonus(t);i&&window.setTimeout("showAnsweredMarkers();",500)})}}function showMoreInfoMobile(n,t,i){t>0&&(t=3);showLoadingMsg();var r=$("#modal-more-info");$(r).load("/"+lng+"/Mobile/MoreInfo?day="+n+"&points="+t,function(){$(".modal").modal("hide");window.setTimeout(function(){hideLoadingMsg();$(r).modal("show")},300);t>0&&addSidebarBonus(t);i&&window.setTimeout("showAnsweredMarkers();",500)})}function hideModal(n,t){$("#modal-"+n).modal("hide");t>0?showPopupBonus(t):n=="more-info"&&($("#more-info-email-share").popover("hide"),$("#my-points-email-share").popover("hide"),$("#question").fadeOut(),$("#map-feedback-container").fadeOut(),showReminder())}function fadeTransition(n,t){$("#"+n).fadeOut("fast",function(){$("#"+t).fadeIn("fast")})}function showLogin(){fadeTransition("register-container","login-container");parent.window.scrollToTop()}function hideLogin(){fadeTransition("login-container","register-container");parent.window.scrollToDiv("start-overlay-frame")}function hideTooSmallElements(){debug("hideTooSmallElements()");$("#sidebar").addClass("too-small")}function showTooSmallElements(){debug("showTooSmallElements()");$("#sidebar").removeClass("too-small")}function showReminder(){$("#reminder-open-questions").html("");$.ajax({url:"/"+lng+"/Game/GetOpenQuestions",type:"get",async:!0,success:function(n){n?($.each(n,function(n,t){$("#reminder-open-questions").html($("#reminder-open-questions").html()+'<a href="javascript:void(0);" onclick="loadSpecificQuestion('+t.Day+');" class="open-question" title="'+t.Day+'"><img src="/Images/eumel/'+t.Day+'.png" /><\/a>')}),$("#reminder-open-questions").html().length>0?$("#reminder-open-question-container").show():$("#reminder-open-question-container").hide(),$("#reminder").fadeIn("slow")):$("#reminder").fadeIn("slow")},error:function(){$("#reminder").fadeIn("slow")}})}function initEmailShare(n,t){$("#"+n).popover({html:!0,animation:!1,placement:t,title:function(){return $("#email-share-headline").html()},content:function(){var t=replaceAll("-template","",$("#email-share-form-container").html());return replaceAll("{icon-id}",n,t)}})}function shareMail(n){var t=!0;$("#email-share-name").val()==""?($("#email-share-name").addClass("error"),t=!1):$("#email-share-name").removeClass("error");$("#email-share-from").val()!=""&&validateEmail($("#email-share-from").val())?$("#email-share-from").removeClass("error"):($("#email-share-from").addClass("error"),t=!1);$("#email-share-to").val()!=""&&validateEmail($("#email-share-to").val())?$("#email-share-to").removeClass("error"):($("#email-share-to").addClass("error"),t=!1);t&&$.ajax({url:"/"+lng+"/Popup/SendRecommendation",type:"get",data:{mailto:$("#email-share-to").val(),mailFrom:$("#email-share-from").val(),nameFrom:$("#email-share-name").val()},success:function(){$(".email-share-form").hide();$(".email-share-success").show();$("#"+n).find('input[type="text"]').val("");window.setTimeout("$('.popover').fadeOut('slow');",1500);window.setTimeout("$('#' + iconId).popover('hide');",2e3);window.setTimeout("$('.email-share-form').show();$('.email-share-success').hide()",2200)},error:function(){}})}function setMediaPixel(n){var t="HTTP://bs.serving-sys.com/Serving/ActivityServer.bs?cn=as&ActivityID="+n+"&Session=[SessionID]&ns=1";$("#media-px").attr("src",t);debug("setMediapixel - "+n)}function msieversion(){var n=window.navigator.userAgent,t=n.indexOf("MSIE ");return t>0?alert(parseInt(n.substring(t+5,n.indexOf(".",t)))):alert("otherbrowser"),!1}var showDebugMessages=!0,bbqUrl,bbqTarget,overlayPrefix="start",isQuestionVisible=!0,isIpad=!1,moreInfoSem=!1;
/*
//# sourceMappingURL=advent-utils.min.js.map
*/